想象一下，我们要在无数种不同尺寸的手机屏幕上画一个同样大小的按钮。

- 如果我们用一个固定的尺寸，比如 `200px`，那么在小屏幕手机上它可能显得巨大，而在大屏幕手机上又显得很小。
- 为了解决这个问题，开发者们创造了各种“相对单位”，让元素的尺寸能根据屏幕大小自动缩放。

**支付宝小程序的 `rpx` 就是为了解决这个核心问题而生的。**

我们来逐一认识这些“尺寸工具”。

#### `px` (Pixel - 物理像素)

- **本质**：屏幕上一个最小的、不可再分的物理点。它是一个**绝对单位**。
- **特点**：`1px` 就是 `1px`，无论在什么屏幕上，它的大小都是固定的，不会改变。
- **优点**：精确、稳定，不会因为计算而产生误差。
- **缺点**：缺乏弹性，无法自适应不同分辨率的屏幕，是导致“屏幕适配难”的根源。
- 小程序中的使用场景：
  - **绘制细边框**：当你需要一条 `1px` 的细线时，强烈建议直接使用 `px`。因为 `rpx` 在某些屏幕上换算后可能不是整数像素，会导致边框模糊、变粗。
  - **不需要缩放的元素**：极少数情况下，某个元素的大小必须固定不变。



#### `rpx` (Responsive Pixel - 响应式像素)

- **本质**：支付宝小程序（以及微信小程序）推出的**专属自适应单位**。它是解决屏幕适配的“官方标准答案”。
- **特点**：它规定**无论屏幕物理宽度是多少，屏幕的总宽度都恒定为 `750rpx`**。
- 换算逻辑：
  - 系统会自动获取当前设备的屏幕宽度。
  - 用 `屏幕宽度 / 750rpx`，就能得到 `1rpx` 对应的物理像素值。
  - 举例：
    - 在 iPhone 6/7/8 上，屏幕宽度为 `375px`，所以 `1rpx = 375 / 750 = 0.5px`。
    - 在一个更宽的屏幕上，比如宽度为 `414px`，那么 `1rpx = 414 / 750 = 0.552px`。
- 优点：
  - **完美适配**：开发者只需按照 `750rpx` 的稿子来写代码，UI 就能在所有设备上保持相同的视觉比例。真正实现“一次设计，多端适配”。
  - **开发简单**：无需复杂的媒体查询或 JS 计算，小程序框架帮你搞定了一切。
- 缺点：
  - 非标准 Web 单位，只在特定小程序环境中有效。
  - 如前所述，用于 `1px` 边框时可能模糊。
- 小程序中的使用场景：
  - **几乎所有场景**：元素的宽度、高度、内外边距、字体大小等，都应该**优先使用 `rpx`**。



### 3. 其他相关单位

虽然在小程序中 `rpx` 是主角，但了解这些单位能拓宽你的知识面，在 Web 开发或更复杂的场景中非常有用。

#### `rem` (Root em - 根元素字体大小)

- **本质**：一个相对单位，相对于**根元素（`<html>`）**的 `font-size` 大小。
- **特点**：通过动态修改根元素的 `font-size`，可以实现整个页面的等比缩放。这是 Web 开发中实现移动端适配的主流方案之一。
- **与 `rpx` 的关系**：`rpx` 的思想和 `rem` 非常相似，可以看作是 `rem` 方案在小程序框架内的“自动化、标准化”实现。你不需要手动去设置根字体大小，框架已经帮你做好了。

#### `em`

- **本质**：也是一个相对单位，但它相对于**父元素**的 `font-size` 大小。
- **特点**：因为依赖于父元素，计算起来容易层层嵌套，变得复杂和难以预测，所以现在在布局上用得越来越少，更多用于特定场景，如 `icon` 和文字对齐。

#### `vw / vh` (Viewport Width / Viewport Height)

- **本质**：相对于**视口**（Viewport，即可见的浏览器窗口区域）的宽度和高度。
- **换算**：`100vw = 100%` 视口宽度，`1vw = 1%` 视口宽度。`vh` 同理。
- **使用场景**：非常适合做需要占满整个屏幕的布局，比如全屏的引导页、广告图等。但在小程序组件内部使用要小心，因为组件的宽度不一定等于视口宽度。

#### `%` (Percentage)

- **本质**：大家最熟悉的百分比，相对于**父元素**的同一属性值。
- **特点**：非常直观，但和 `em` 一样，其最终值依赖于父元素，有时会带来布局上的困扰。



| 单位        | 全称/定义      | 参考基准                         | 优点                     | 缺点 / 注意事项              | 小程序推荐用法                  |
| :---------- | :------------- | :------------------------------- | :----------------------- | :--------------------------- | :------------------------------ |
| **`rpx`**   | 响应式像素     | **屏幕宽度** (恒定为 750rpx)     | **完美适配，开发简单**   | 小程序专属，1px 边框可能模糊 | **首选**，用于几乎所有尺寸定义  |
| **`px`**    | 物理像素       | 屏幕物理像素点                   | 精确、稳定               | 无法自适应，缺乏弹性         | 仅用于 `1px` 边框等固定尺寸     |
| **`rem`**   | 根元素字体大小 | 根元素 (`<html>`) 的 `font-size` | 灵活，Web 端适配主流方案 | 需要额外 JS 配置才能实现适配 | 了解即可，小程序中 `rpx` 已足够 |
| **`em`**    | 父元素字体大小 | 直接父元素的 `font-size`         | 相对父元素，适合局部场景 | 容易受嵌套影响，计算复杂     | 极少使用                        |
| **`vw/vh`** | 视口宽度/高度  | 浏览器视口的宽/高                | 适合全屏布局             | 在组件内使用可能不符合预期   | 用于全屏特殊布局                |
| **`%`**     | 百分比         | 父元素的同一属性值               | 直观                     | 依赖父元素，布局可能复杂     | 可用于宽度等，但 `rpx` 通常更佳 |



### 实践建议

1. **黄金法则**：在支付宝小程序开发中，**忘记 `px`，拥抱 `rpx`**。把你的设计稿按 `750rpx` 的宽度来切图和标注，然后直接写代码，你会发现适配工作变得异常轻松。
2. **唯一的例外**：当你需要一条清晰、锐利的 `1px` 分割线或边框时，请坚持使用 `border: 1px solid #color;`。这是保证 UI 细节精致的关键。
3. **字体大小**：使用 `rpx` 定义字体大小是完全可以的，能保证整体比例协调。如果你有特殊需求，比如希望字体大小能被用户在系统设置里缩放，可以考虑 `rem`，但这在小程序中不是主流做法。
4. **心态**：不要把这些单位想得太复杂。`rpx` 就是小程序的“自适应神器”，`px` 就是“固定尺寸尺”。抓住这两个核心，你就已经掌握了 95% 的场景。



