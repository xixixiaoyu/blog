# 写作提示 —— 测试与 Mock（可重复性与快照）

使用说明：
- 生成面向 LLM 应用的测试与 Mock 指南，解决不确定性与可复现问题。

生成目标：
- 设计黄金样例与快照测试（输出对齐、结构化校验）。
- 为 LLM 调用提供 Mock/Stub；控制采样（温度、Top-p）与随机性（seed）。
- 提供函数调用的契约测试与错误场景覆盖。

大纲建议：
1. 测试金样与数据集（任务定义、期望输出）
2. Mock/Stub 方案（离线/在线；跨供应商）
3. 快照与结构化校验（JSON Schema/Grammar）
4. 函数调用契约测试（参数校验、错误路径）
5. 随机性控制（seed、采样参数）
6. CI 集成与门控（失败重现、阈值）

输出格式要求：
- Markdown；附最小测试/Mock 代码片段与配置建议。
- 标注与评估框架/CI 的集成方式。

质量检查清单：
- 测试可重复；快照与结构化校验可靠。
- Mock 覆盖主路径与错误路径；避免脆弱性。
- 与 CI 与评估闭环集成。

