# 写作提示 —— AI 工厂旗舰生产线：“知识大师”智能问答机器人生产线建设方案

**核心类比**：将一个完整的 RAG（Retrieval-Augmented Generation）应用，比作“AI 工厂”推出的一条旗舰级生产线，其最终产品是名为“知识大师”的智能问答机器人。本方案将指导“生产线建设工程师”从零开始，完成从“原材料采购”到“工厂建设”，再到“旗舰店装修”的全过程。

**使用说明**：
- 本提示旨在将一个复杂的、端到端的 RAG 系统，转化为一套模块化、流程化的“生产线”建设指南。
- 你需要以“AI 工厂首席解决方案架构师”的口吻，为“项目工程师”团队提供这份详尽的、可执行的建设方案。

**生成目标**：
- **定义产品价值**：清晰地阐明“知识大师”机器人的核心价值——能够基于企业内部知识库，提供精准、可溯源的答案，成为企业内部的“超级知识顾问”。
- **模块化建设流程**：将整个建设过程分解为“原材料供应链”、“智能化仓储”、“中央调度与加工”、“旗舰体验店”和“运营监控中心”五个核心模块。
- **提供端到端技术蓝图**：为每个模块提供清晰的技术选型建议、接口规范和关键代码示例，覆盖从数据处理、向量检索、重排序到前端渲染的全链路。
- **建立质量评估体系**：为“生产线”的每个环节，乃至最终的“产品”，建立一套可量化的质量评估指标（如检索准确率、答案相关性、引用召回率等），并将其整合到“运营监控中心”的仪表盘中。

**大纲建议：《“知识大师”智能问答机器人生产线建设方案》**

**第一部分：项目启动与规划**
1.  **第一章：认识我们的旗舰产品——“知识大师”**
    *   产品定位、核心功能与商业价值。
    *   整体“生产线”架构概览图。

**第二部分：后端“工厂”建设**
2.  **第二章：“原材料供应链”搭建（数据管道）**
    *   **“原材料”采购与质检**：从 Confluence、Notion、PDF 等源头抽取“知识”。
    *   **“精加工”流水线**：文本清洗、剔除无关信息。
    *   **“标准化包装”**：文本分块（Chunking）策略与元数据（Metadata）附加。
    *   **“贴上唯一识别码”**：调用 Embedding 模型，将“知识块”转化为“向量”，并存入“仓库”。

3.  **第三章：“智能化仓储与调度”系统（检索与重排序）**
    *   **“智能货架”**：向量数据库（Vector DB）的技术选型与索引策略。
    *   **“混合动力叉车”**：混合检索（向量 + BM25/关键词），提升“货物”查找的准确率。
    *   **“VIP 订单优先处理”**：重排序（Re-ranking）模型，将最相关的“货物”优先送到“加工车间”。

4.  **第四章：“中央加工车间”（生成与引用）**
    *   **“备料台”**：将检索到的“知识块”进行去重、拼接，构建最终的“生产配料”（Context）。
    *   **“核心加工引擎”**：调用 LLM，基于“配料”生成答案。
    *   **“贴上溯源码”**：在答案中精确标注引用来源，确保每一份“成品”都有据可查。

**第三部分：前端“旗舰店”装修**
5.  **第五章：“旗舰体验店”设计与装修（前端 UI 与 UX）**
    *   **店面布局**：问题输入框、加载状态指示、答案展示区、引用来源列表的核心 UI 设计。
    *   **优化顾客体验**：流式响应（Streaming）、答案逐步渲染、引用来源高亮与一键跳转。
    *   **提升服务效率**：查询缓存、滚动加载、历史对话管理等策略。

**第四部分：运营与维护**
6.  **第六章：“运营监控中心”建立（评估与观测）**
    *   **定义核心 KPI**：检索覆盖率、答案相关性、引用有效性、用户满意度。
    *   **搭建“监控仪表盘”**：设计日志系统，收集数据，并可视化展示“生产线”的健康状况。
    *   **建立“持续改进”流程**：基于用户反馈和“监控数据”，定期对“生产线”进行调优。

**附录：技术与代码**
*   **附录 A**：后端 API 接口规范（JSON）。
*   **附录 B**：前端 React/Vue 核心组件代码片段。
*   **附录 C**：评估脚本与 Rubric 示例。

**质量检查清单（“建设方案”审批标准）**：
- **方案是否端到端完整？**：是否覆盖了从数据到前端，再到评估的全链路？
- **类比是否恰当且有助于理解？**：读者是否能通过“工厂”的视角，清晰地把握 RAG 系统的各个组成部分？
- **技术细节是否清晰可执行？**：代码示例和接口规范是否足以指导工程师的实际开发工作？
- **评估体系是否闭环？**：是否建立了一套从数据收集到问题定位，再到持续优化的完整闭环？
