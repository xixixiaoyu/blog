# FastAPI 框架

## 最佳提示词

```
请详细介绍 FastAPI 框架，包括以下内容：

1. FastAPI 基础：
   - FastAPI 安装与配置
   - 最小应用示例
   - 路由定义
   - 请求与响应

2. 数据验证：
   - Pydantic 模型
   - 数据验证
   - 序列化
   - 错误处理

3. 依赖注入：
   - 依赖系统
   - 类依赖
   - 路径操作装饰器
   - 安全依赖

4. 异步支持：
   - 异步路由
   - 异步数据库操作
   - 后台任务
   - WebSocket

5. API 文档：
   - 自动文档生成
   - Swagger UI
   - ReDoc
   - 自定义文档

请为每个功能提供详细的代码示例，包括实际应用场景和最佳实践。
```

## 学习要点

- 掌握 FastAPI 的基本概念
- 学会使用 Pydantic 进行数据验证
- 理解依赖注入机制
- 掌握异步编程支持
- 了解自动文档生成

## 实践练习

1. 创建简单的 FastAPI 应用
2. 实现数据验证和序列化
3. 使用依赖注入系统
4. 创建异步 API
5. 集成数据库操作
6. 实现 WebSocket 功能

## 代码示例模板

```python
from fastapi import FastAPI, Depends, HTTPException
from pydantic import BaseModel
from typing import Optional

app = FastAPI()

class Item(BaseModel):
    name: str
    description: Optional[str] = None
    price: float
    tax: Optional[float] = None

@app.post("/items/")
async def create_item(item: Item):
    return {"item": item}

@app.get("/items/{item_id}")
async def read_item(item_id: int, q: Optional[str] = None):
    return {"item_id": item_id, "q": q}

# 依赖注入示例
async def common_parameters(q: Optional[str] = None, skip: int = 0, limit: int = 100):
    return {"q": q, "skip": skip, "limit": limit}

@app.get("/users/")
async def read_users(commons: dict = Depends(common_parameters)):
    return commons
```

## 扩展资源

- [FastAPI 官方文档](https://fastapi.tiangolo.com/)
- [Pydantic 文档](https://pydantic-docs.helpmanual.io/)
- [FastAPI 教程](https://fastapi.tiangolo.com/tutorial/)
- [FastAPI 高级用户指南](https://fastapi.tiangolo.com/advanced/)
