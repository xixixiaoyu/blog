# Docker 容器化

## 最佳提示词

```
请详细介绍 Python 应用的 Docker 容器化，包括以下内容：

1. Docker 基础：
   - Docker 概念
   - 镜像与容器
   - Dockerfile 编写
   - 基本命令

2. Python 应用容器化：
   - 选择基础镜像
   - 依赖管理
   - 多阶段构建
   - 优化镜像大小

3. Docker Compose：
   - 服务编排
   - 网络配置
   - 数据卷
   - 环境变量

4. 最佳实践：
   - 安全考虑
   - 性能优化
   - 日志管理
   - 监控配置

请为每个概念提供详细的代码示例，包括实际应用场景和最佳实践。
```

## 学习要点

- 理解 Docker 的基本概念
- 掌握 Dockerfile 的编写技巧
- 学会优化 Python 应用镜像
- 理解 Docker Compose 的使用
- 掌握容器化最佳实践

## 实践练习

1. 编写基本的 Dockerfile
2. 优化 Python 应用镜像
3. 使用 Docker Compose 编排服务
4. 实现多阶段构建
5. 配置数据持久化
6. 设置容器监控

## 代码示例模板

```dockerfile
# Dockerfile 示例
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE 8000

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

```yaml
# docker-compose.yml
version: '3.8'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    depends_on:
      - db
    environment:
      - DATABASE_URL=postgresql://user:password@db:5432/mydb
  
  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=mydb
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

## 扩展资源

- [Docker 官方文档](https://docs.docker.com/)
- [Dockerfile 最佳实践](https://docs.docker.com/develop/dev-best-practices/)
- [Docker Compose 文档](https://docs.docker.com/compose/)
- [Python Docker 镜像](https://hub.docker.com/_/python)
