# Python 字符串处理

## 最佳提示词

```
请详细介绍 Python 的字符串处理，包括以下内容：

1. 字符串基础：
   - 字符串的创建与特性
   - 字符串的不可变性
   - 字符串的索引与切片
   - 字符串的连接与重复

2. 字符串方法：
   - 大小写转换方法
   - 查找与替换方法
   - 分割与连接方法
   - 格式化方法
   - 验证与判断方法

3. 正则表达式：
   - re 模块的基本使用
   - 正则表达式语法
   - 模式匹配与搜索
   - 替换与分割

4. 字符串格式化：
   - % 格式化
   - str.format() 方法
   - f-string 格式化
   - 格式化规范

5. Unicode 处理：
   - Unicode 编码基础
   - 编码与解码
   - 字符与字节转换

请为每个功能提供详细的代码示例，包括实际应用场景和性能考虑。
```

## 学习要点

- 理解字符串的不可变特性
- 掌握字符串的常用方法
- 学会使用正则表达式处理复杂文本
- 掌握不同的字符串格式化方法
- 理解 Unicode 编码的处理
- 学会选择合适的字符串处理方法
- 了解字符串操作的性能特点

## 实践练习

1. 练习字符串的索引和切片操作
2. 使用各种字符串方法处理文本
3. 应用正则表达式解决实际问题
4. 使用不同的格式化方法
5. 处理 Unicode 编码问题
6. 实现文本清理和标准化
7. 创建简单的文本分析工具
8. 优化字符串操作的性能

## 代码示例模板

```python
# 字符串基础操作
text = "Hello, Python World!"
print(text[0:5])        # Hello
print(text[-6:])        # World!
print(text * 2)         # 重复字符串
print(text + " Bye!")   # 连接字符串

# 字符串方法
s = "  hello python world  "
print(s.strip())                    # 去除首尾空格
print(s.upper())                    # 转大写
print(s.lower())                    # 转小写
print(s.title())                    # 标题格式
print(s.replace("world", "universe")) # 替换
print(s.split())                    # 分割
print(",".join(["a", "b", "c"]))   # 连接

# 正则表达式
import re

text = "Contact us at email@example.com or phone 123-456-7890"
email_pattern = r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'
phone_pattern = r'\b\d{3}-\d{3}-\d{4}\b'

emails = re.findall(email_pattern, text)
phones = re.findall(phone_pattern, text)

print(f"Emails: {emails}")
print(f"Phones: {phones}")

# 字符串格式化
name = "Alice"
age = 25

# % 格式化
print("Name: %s, Age: %d" % (name, age))

# str.format() 方法
print("Name: {}, Age: {}".format(name, age))
print("Name: {0}, Age: {1}".format(name, age))
print("Name: {name}, Age: {age}".format(name=name, age=age))

# f-string 格式化
print(f"Name: {name}, Age: {age}")
print(f"Name: {name:>10}, Age: {age:03d}")

# Unicode 处理
text = "你好，世界！"
utf8_bytes = text.encode('utf-8')
gbk_bytes = text.encode('gbk')

print(f"UTF-8 bytes: {utf8_bytes}")
print(f"GBK bytes: {gbk_bytes}")
print(f"Decoded: {utf8_bytes.decode('utf-8')}")

# 实际应用示例
def clean_text(text):
    """清理文本"""
    # 去除多余空格
    text = ' '.join(text.split())
    # 转换为小写
    text = text.lower()
    # 移除特殊字符
    text = re.sub(r'[^\w\s]', '', text)
    return text

def extract_emails(text):
    """提取邮箱地址"""
    pattern = r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b'
    return re.findall(pattern, text)

def validate_phone(phone):
    """验证手机号格式"""
    pattern = r'^1[3-9]\d{9}$'
    return bool(re.match(pattern, phone))

# 文本分析示例
def word_frequency(text):
    """统计词频"""
    words = re.findall(r'\b\w+\b', text.lower())
    frequency = {}
    for word in words:
        frequency[word] = frequency.get(word, 0) + 1
    return frequency

# 使用示例
sample_text = """
Python is a powerful programming language.
Python is easy to learn and use.
Many developers love Python!
"""

cleaned = clean_text(sample_text)
print(f"Cleaned text: {cleaned}")

emails = extract_emails("Contact: alice@example.com, bob@test.org")
print(f"Extracted emails: {emails}")

print(f"Valid phone: {validate_phone('13812345678')}")

freq = word_frequency(sample_text)
print(f"Word frequency: {freq}")
```

## 扩展资源

- [Python 字符串方法文档](https://docs.python.org/3/library/stdtypes.html#string-methods)
- [正则表达式文档](https://docs.python.org/3/library/re.html)
- [Unicode 编码指南](https://docs.python.org/3/howto/unicode.html)
- [字符串格式化文档](https://docs.python.org/3/library/string.html#formatstrings)