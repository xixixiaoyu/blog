# Python 函数与方法

## 最佳提示词

```
请详细介绍 Python 的函数与方法，包括以下内容：

1. 函数基础：
   - 函数的定义与调用
   - 参数传递：位置参数、关键字参数
   - 默认参数值
   - 可变参数：*args 和 **kwargs
   - 参数解包
   - 函数文档字符串

2. 函数进阶：
   - 函数作为对象
   - 高阶函数
   - 匿名函数（lambda）
   - 闭包
   - 装饰器基础
   - 函数注解（类型提示）

3. 作用域与命名空间：
   - LEGB 规则
   - global 和 nonlocal 关键字
   - 内置函数
   - 变量查找机制

4. 生成器函数：
   - yield 关键字
   - 生成器表达式
   - 生成器的应用场景

5. 函数式编程：
   - map()、filter()、reduce()
   - 列表推导式
   - 函数式编程思想

6. 方法：
   - 实例方法、类方法、静态方法
   - 方法的绑定

请为每个概念提供详细的代码示例，包括实际应用场景和最佳实践。解释函数的内部工作机制和性能考虑。
```

## 学习要点

- 掌握函数的定义和调用方法
- 理解不同类型参数的传递机制
- 学会使用可变参数处理灵活的函数接口
- 掌握函数文档的编写规范
- 理解函数作为一等公民的概念
- 学会使用高阶函数和匿名函数
- 理解闭包的概念和应用
- 掌握装饰器的基本原理和使用
- 了解函数作用域和命名空间规则
- 学会使用生成器函数处理大数据集
- 理解函数式编程的基本思想

## 实践练习

1. 编写一个带默认参数的函数
2. 创建一个接受可变参数的函数
3. 实现一个简单的装饰器
4. 编写一个闭包函数
5. 使用 lambda 函数和高阶函数
6. 创建一个生成器函数处理大文件
7. 练习使用函数注解提高代码可读性
8. 实现一个类方法、静态方法和实例方法的例子

## 代码示例模板

```python
# 函数定义与参数
def greet(name, greeting="Hello"):
    """向指定的人问好"""
    return f"{greeting}, {name}!"

# 可变参数
def sum_all(*args, **kwargs):
    """计算所有数字的和"""
    total = sum(args)
    for key, value in kwargs.items():
        if isinstance(value, (int, float)):
            total += value
    return total

# 高阶函数
def apply_operation(func, data):
    """对数据应用指定函数"""
    return [func(item) for item in data]

# Lambda 函数
square = lambda x: x ** 2
numbers = [1, 2, 3, 4, 5]
squared = list(map(square, numbers))

# 装饰器
def timer(func):
    """计时装饰器"""
    import time
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"{func.__name__} 执行时间: {end - start:.4f}秒")
        return result
    return wrapper

@timer
def slow_function():
    """模拟耗时操作"""
    import time
    time.sleep(1)
    return "完成"

# 闭包
def make_multiplier(factor):
    """创建乘法器"""
    def multiplier(number):
        return number * factor
    return multiplier

# 生成器函数
def fibonacci_generator():
    """斐波那契数列生成器"""
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

# 类方法、静态方法和实例方法
class Example:
    @staticmethod
    def static_method():
        """静态方法"""
        return "这是静态方法"
    
    @classmethod
    def class_method(cls):
        """类方法"""
        return f"这是类方法，属于 {cls}"
    
    def instance_method(self):
        """实例方法"""
        return "这是实例方法"
```

## 扩展资源

- [Python 函数定义文档](https://docs.python.org/3/tutorial/controlflow.html#defining-functions)
- [Python 装饰器文档](https://docs.python.org/3/glossary.html#term-decorator)
- [Python 生成器文档](https://docs.python.org/3/howto/functional.html#generators)
- [Python 函数式编程](https://docs.python.org/3/howto/functional.html)