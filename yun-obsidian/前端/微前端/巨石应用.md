### 什么是‘巨石应用’？
‘巨石应用’（即单体应用，Monolithic Application）的核心特征是 **“单体”** 和 **“集中”**。
想象一下我们盖一栋楼，如果从地基、框架、水电、装修，所有东西都作为一个整体来设计和建造，最后得到的就是一栋‘巨石建筑’。它功能齐全，但内部结构紧密耦合，难以拆分。
在软件世界里，巨石应用指的是一个高度集中、单一单元的应用。它的所有功能模块——比如用户管理、商品展示、订单处理、购物车——都紧密耦合在同一个代码库中，最终被构建、打包成一个独立的部署单元。
```
// 一个典型的巨石应用项目结构
// 所有功能都在一个 repo 里
my-spa-app/
├── src/
│   ├── components/     // 全局公共组件
│   ├── pages/
│   │   ├── User/       // 用户模块
│   │   ├── Product/    // 商品模块
│   │   └── Order/      // 订单模块
│   ├── store/          // 全局状态管理
│   ├── utils/          // 全局工具函数
│   └── App.js          // 应用入口
├── package.json        // 统一的依赖管理
└── webpack.config.js   // 统一的构建配置
```

### 巨石应用在大型项目中的典型问题
1. **开发效率低下**：随着代码库膨胀，应用的启动时间、热更新速度、构建打包时间都会显著增长。一个微小的改动可能需要等待漫长的构建过程，严重影响开发体验和效率。
2. **技术栈锁定**：项目初期选择的技术栈（如 React 或 Vue）会贯穿整个应用的生命周期。即使未来出现了更优秀的技术，或者某个新功能更适合用另一种技术实现，也很难进行替换，迁移成本极高。
3. **部署困难且风险高**：巨石应用是“牵一发而动全身”。即使只是修改了一个按钮的文字，也需要对整个应用进行重新测试和部署。这导致部署频率低，每次部署的风险都很高，因为任何一个模块的 bug 都可能导致整个应用崩溃。
4. **团队协作冲突**：当多个团队在同一个代码库上工作时，冲突会变得非常频繁。代码风格难以统一，功能模块的边界模糊，容易产生“我的代码影响了你的功能”这类问题，团队协作效率大打折扣。
5. **可维护性和扩展性差**：经过长时间的迭代和不同开发人员的维护，代码库容易变成一个难以理解的“大泥球”。添加新功能或修改旧逻辑变得异常困难和危险，应用的扩展性受到严重限制。

### 微前端如何解决这些问题？核心思想是什么？
它的核心思想，借鉴了后端的微服务理念：**分而治之，技术自治**。
微前端通过以下方式解决了巨石应用的痛点：
- **应用拆分**：将一个庞大的前端应用拆分成多个可以独立开发、独立部署的小型应用，每个应用对应一个业务模块。
- **独立部署**：每个微前端应用都可以有自己的 CI/CD 流程。修改了订单模块，只需要重新部署订单应用，用户模块和商品模块完全不受影响。这大大降低了部署风险，提高了交付频率。
- **技术栈无关**：每个微前端应用都可以选择最适合自身业务的技术栈。A 团队可以用 React，B 团队可以用 Vue，C 团队甚至可以用原生 JS 来实现一个高性能的模块。
- **运行时集成**：通过一个主应用（或称基座应用）来管理和加载这些微前端应用，在用户看来，它仍然是一个无缝的整体。
- **团队自治**：每个团队对自己负责的微前端应用有完全的控制权，从开发、测试到部署，减少了跨团队的沟通成本和协作冲突。

### 巨石应用 vs. 微前端架构对比
|特性|巨石应用|微前端|
|:--|:--|:--|
|**开发效率**|**初期快，后期慢**。项目初期结构简单，但随着规模扩大，构建、启动、开发体验都会显著下降。|**初期有成本，长期并行开发快**。需要搭建基座和治理体系，但一旦成型，各团队可并行高效开发，互不影响。|
|**部署**|**整体部署，高风险**。任何小改动都需要部署整个应用，发布周期长，风险集中，回滚困难。|**独立部署，低风险，高频率**。每个应用可独立部署，发布灵活，故障隔离性好，易于快速迭代和灰度发布。|
|**技术栈**|**统一，但僵化**。技术栈一旦选定，很难更改。无法享受新技术带来的红利。|**灵活，异构**。允许不同团队使用不同技术栈，可以渐进式地重构或尝试新技术，技术选型更务实。|
|**团队协作**|**耦合度高，易冲突**。所有团队在同一个代码库工作，容易产生代码冲突、依赖混乱和责任不清的问题。|**自治，低耦合**。团队对各自的应用端到端负责，边界清晰，减少了跨团队协作的摩擦，提升了团队自主性。|
