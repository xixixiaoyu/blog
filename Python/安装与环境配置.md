### 1. Python 版本选择

**核心结论：坚定选择 Python 3，推荐最新的稳定版本。**

*   **Python 2 vs Python 3：**
    *   Python 2 已于 2020 年 1 月 1 日正式停止维护（EOL）。现在的任何新项目都不应再使用 Python 2。
    *   Python 3 是现在的标准，语法更优美，功能更强大。
*   **具体版本选择：**
    *   **推荐：** Python 3.10 或 3.11（截至当前，这两个版本兼容性最好且足够新）。
    *   **避坑：** 尽量不要安装带有 `alpha` 或 `beta` 后缀的测试版，也不要死守过于老旧的 3.6 或 3.7。

---

### 2. 操作系统安装指南

#### Windows 用户（最常见）

1.  **下载：** 访问 [Python 官网下载页](https://www.python.org/downloads/)，下载 "Windows installer (64-bit)"。
2.  **安装（关键步骤）：**
    *   运行安装包。
    *   **务必勾选底部的 `Add Python 3.x to PATH`**（将 Python 添加到环境变量）。如果不勾选，你在命令行里输入 `python` 会没反应。
    *   点击 "Install Now"。
3.  **验证：**
    *   按 `Win + R`，输入 `cmd` 回车。
    *   输入 `python --version`，看到版本号即成功。

#### macOS 用户

macOS 自带 Python 2（旧版系统）或不带 Python，**强烈建议不要使用系统自带的 Python**，以免破坏系统功能。

*   **方法一（推荐，使用 Homebrew）：**
    如果你安装了 Homebrew，在终端执行：
    ```bash
    brew install python
    ```
*   **方法二（官网安装包）：**
    去官网下载 macOS 64-bit universal2 installer，像安装普通软件一样安装。
*   **验证：**
    在终端输入 `python3 --version`（注意 Mac 上通常命令是 `python3`）。

#### Linux 用户 (Ubuntu/Debian)

大多数 Linux 发行版预装了 Python 3。

1.  **检查：** `python3 --version`
2.  **安装/更新：**
    ```bash
    sudo apt update
    sudo apt install python3 python3-pip python3-venv
    ```

---

### 3. 环境变量配置

如果你在 Windows 安装时忘记勾选 "Add to PATH"，或者在终端输入 `python` 提示“不是内部或外部命令”，你需要手动配置。

**Windows 手动配置步骤：**

1.  搜索栏输入“编辑系统环境变量”。
2.  点击“环境变量”按钮。
3.  在“系统变量”区域找到 **Path**，点击“编辑”。
4.  点击“新建”，添加你的 Python 安装路径（例如：`C:\Python311\`）和 Scripts 路径（例如：`C:\Python311\Scripts\`）。
5.  一路“确定”保存，**重启命令行窗口**生效。

---

### 4. 包管理工具 pip 的使用与配置

`pip` 是 Python 的包管理工具，用于安装第三方库（如 `requests`, `pandas`）。

#### 常用命令
```bash
# 安装包
pip install package_name

# 卸载包
pip uninstall package_name

# 列出已安装的包
pip list

# 导出当前环境所有包到文件（常用于项目迁移）
pip freeze > requirements.txt

# 根据文件安装包
pip install -r requirements.txt
```

#### ⚡️ 关键配置：更换国内镜像源
默认源在国外，下载速度慢且不稳定。建议永久配置为国内源（如清华源）。

**配置命令（在命令行执行）：**
```bash
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

---

### 5. 虚拟环境：开发的“防毒面具”

**这是新手最容易忽略，但最重要的部分。**

**为什么需要虚拟环境？**
如果不使用虚拟环境，所有包都会安装到全局 Python 目录。当你同时开发两个项目，项目 A 需要 `Django 2.0`，项目 B 需要 `Django 4.0` 时，全局环境就会冲突，导致项目崩溃。

#### 方案 A：使用 venv（Python 原生，推荐）

`venv` 是 Python 3.3+ 内置的模块，无需额外安装，轻量级。

1.  **创建虚拟环境：**
    在你的项目文件夹下打开命令行：
    
    ```bash
    # 创建一个名为 .venv 的虚拟环境文件夹
    python -m venv .venv
    ```
    *(注意：Windows 下可能是 `python`，Mac/Linux 下可能是 `python3`)*
    
2.  **激活虚拟环境：**
    *   **Windows:**
        
        ```cmd
        .venv\Scripts\activate
        ```
    *   **macOS / Linux:**
        ```bash
        source .venv/bin/activate
        ```
    *   激活成功后，命令行前缀会出现 `(.venv)` 字样。此时使用 `pip` 安装的包只会存在于这个项目中。
    
3.  **退出虚拟环境：**
    ```bash
    deactivate
    ```

#### 方案 B：使用 Conda（适合数据科学）

如果你主要做数据分析、机器学习，推荐安装 **Miniconda**（Anaconda 的精简版）。它可以管理 Python 版本和非 Python 的依赖库（如 C++ 编译的数学库）。

```bash
# 创建环境
conda create -n myenv python=3.9

# 激活环境
conda activate myenv
```

---

### 6. IDE 和编辑器的选择

工欲善其事，必先利其器。

1.  **VS Code (Visual Studio Code)**
    *   **定位：** 轻量级、插件丰富、全能。
    *   **适合：** Web 开发、脚本编写、初学者。
    *   **配置：**
        *   安装 "Python" 插件 (Microsoft 出品)。
        *   打开项目文件夹后，按 `Ctrl + Shift + P`，输入 `Python: Select Interpreter`，选择你刚才创建的虚拟环境 (`.venv`)。

2.  **PyCharm**
    *   **定位：** 专业级 IDE，功能极其强大，智能提示最好。
    *   **适合：** 大型项目、企业级开发。
    *   **配置：** 下载 Community 版本（免费）。创建项目时，它会自动帮你创建虚拟环境，非常省心。

3.  **Jupyter Notebook / JupyterLab**
    *   **定位：** 交互式笔记本。
    *   **适合：** 数据分析、机器学习、教学演示。
    *   **安装：** `pip install jupyterlab`，然后运行 `jupyter lab`。

---

### 7. 常见问题解决方案

*   **问题：`pip` 提示权限不足 (Permission denied)。**
    *   **解法：** 不要使用 `sudo pip`（这很危险）。请检查是否激活了虚拟环境。如果没有用虚拟环境，可以使用 `pip install --user package_name`。
*   **问题：Windows 下输入 `python` 弹出微软商店。**
    *   **解法：** 在 Windows 设置 -> 应用 -> 应用执行别名中，关闭 Python 的应用安装程序开关。
*   **问题：SSL 证书错误。**
    *   **解法：** 通常发生在公司内网。可以尝试在 pip 命令后加 `--trusted-host pypi.tuna.tsinghua.edu.cn`，或者检查 VPN 设置。

---

### 8. Python 环境最佳实践（总结）

为了让你未来的编程之路少走弯路，请记住这几条“军规”：

1.  **永远不要污染全局环境：** 哪怕只是写一个小脚本，也习惯性地创建一个 `venv`。
2.  **项目隔离：** 一个项目对应一个虚拟环境。
3.  **记录依赖：** 项目完成阶段，务必生成 `requirements.txt` 文件，方便他人或自己在其他机器上复现环境。
4.  **路径命名：** 项目文件夹路径中**尽量不要包含中文和空格**，这能避免 90% 莫名其妙的报错。
5.  **保持更新：** 定期使用 `pip list --outdated` 检查包的更新，但升级前要谨慎。
